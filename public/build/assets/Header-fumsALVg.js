import{s as o,y as j,c as l,o as n,z as M,a as e,e as w,v as q,A as V,F as h,g as f,j as g,b as z,w as P,d as Q,t as m,u as U,S as G}from"./app-tn0dq2wW.js";const J={class:"header"},K={class:"container"},O={class:"row header__search"},W={class:"col-xl-8"},X={class:"input-group"},Y={class:"search-results-dropdown"},Z={key:0,class:"search-loading"},ee={key:0,class:"no-results"},ae={class:"row header__menu"},se={class:"col-xl-8"},le={class:"navbar navbar-expand-lg navbar-light bg-light"},ne={class:"container-fluid header__menu"},te={class:"collapse navbar-collapse",id:"navbarNav"},oe={class:"navbar-nav"},ie={class:"wrap_c"},re={class:"list"},ce=["href","onMouseenter"],ue={class:"table"},ve={class:"margin"},de={style:{"text-transform":"uppercase"}},_e={class:"subcategory-column"},he=["href","onMouseenter"],me=["href"],fe={__name:"Header",props:{categories:Array},setup(x){const $=x,k=o(!1),v=o(null),d=o(null),p=o(null),b=o(!1),c=o(""),r=o([]),_=o(!1),S=o(null),y=o(!1),B=()=>{clearTimeout(p.value),k.value=!0,b.value=!0},D=()=>{p.value=setTimeout(()=>{b.value||(k.value=!1,v.value=null,d.value=null)},300)},R=()=>{b.value=!0,clearTimeout(p.value)},T=()=>{b.value=!1,D()},F=t=>{v.value=t,d.value=null},L=t=>{d.value=t},A=t=>{if(!v.value)return[];const a=$.categories.find(u=>u.id===v.value);if(!a||!a.children)return[];const s=a.children.find(u=>u.id===t);return(s==null?void 0:s.children)||[]},N=()=>{clearTimeout(p.value)},E=()=>{if(clearTimeout(S.value),!c.value.trim()){r.value=[];return}S.value=setTimeout(()=>{H()},300)},H=async()=>{if(!c.value.trim()){r.value=[];return}y.value=!0;try{const t=await axios.get(route("client.products.search"),{params:{query:c.value}});r.value=t.data}catch(t){console.error("Search error:",t),r.value=[]}finally{y.value=!1}},C=()=>{setTimeout(()=>{_.value=!1},200)},I=()=>{_.value=!0};return j(()=>{}),(t,a)=>(n(),l("header",J,[a[12]||(a[12]=M('<div class="row header__top__block__main"><div class="container__header"><div class="container__header__flex"><div class=""><div class="header__top d-flex"><div class="d-block d-md-none"><a href="tel:+74993943841" class="header__phone">8 (499) 394-38-41</a></div><span class="company">|</span><div class="header__top__block company"><a href="">О компании </a></div><span>|</span><div class="header__top__block"><button type="submit" class="btn btn-primary submit-btn btn__red">ЗАКАЗАТЬ ЗВОНОК </button></div><span>|</span><div class="header__top__block"><div class="header__top__cart"><div class="header__top__img"><img src="/img/cart.png" alt=""></div><div class="header__top__info"><p class="min__order"> Минимальный заказ</p><p class="rub">15 0007 Р </p></div></div></div></div></div></div></div></div>',1)),e("div",K,[e("div",O,[a[4]||(a[4]=e("div",{class:"col-xl-2"},[e("img",{src:"https://web-ruslan.ru/img/logo.png",alt:"logo"})],-1)),e("div",W,[a[3]||(a[3]=e("button",{class:"navbar-toggler ds-mob",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"navbar-toggler-icon"})],-1)),e("div",X,[w(e("input",{type:"text",class:"form-control",placeholder:"Поиск товаров по названию или артикулу","onUpdate:modelValue":a[0]||(a[0]=s=>c.value=s),onInput:E,onFocus:a[1]||(a[1]=s=>_.value=!0),onBlur:C},null,544),[[q,c.value]]),a[2]||(a[2]=e("div",{class:"input-group-append"},[e("button",{class:"btn btn-secondary",type:"button"},[e("img",{src:"https://web-ruslan.ru/img/ser.png",alt:"search"})])],-1)),w(e("div",{class:"search-results-dropdown",onMouseenter:I,onMouseleave:C},[(n(!0),l(h,null,f(r.value,s=>(n(),l("div",{class:"search-result-item",key:s.id},[z(U(G),{href:t.route("client.products.show",s.url)},{default:P(()=>[Q(m(s.title)+" ("+m(s.article)+") ",1)]),_:2},1032,["href"])]))),128))],544),[[V,_.value&&r.value.length>0]]),w(e("div",Y,[y.value?(n(),l("div",Z," Загрузка... ")):(n(),l(h,{key:1},[r.value.length===0&&c.value?(n(),l("div",ee," Ничего не найдено ")):g("",!0)],64))],512),[[V,_.value]])])]),a[5]||(a[5]=M('<div class="col-xl-2 phone__mob__none"><span><a href=""> 8 (499) 394 38 41</a></span></div><div class="catalogmobile__my"><div class="nav-item catalog"><a class="nav-link" href="#">КАТАЛОГ</a><span></span></div></div>',2))]),e("div",ae,[a[10]||(a[10]=e("div",{class:"col-xl-2"},null,-1)),e("div",se,[e("nav",le,[e("div",ne,[e("div",te,[e("ul",oe,[e("li",{class:"nav-item catal catalog__desc",onMouseenter:B,onMouseleave:T},[a[6]||(a[6]=e("a",{class:"nav-link catalog__mar",href:"#"},"КАТАЛОГ",-1)),a[7]||(a[7]=e("span",null,null,-1)),k.value?(n(),l("section",{key:0,class:"catalog_drop",onMouseenter:R,onMouseleave:T},[e("div",ie,[e("div",re,[(n(!0),l(h,null,f(x.categories,s=>{var u;return n(),l("a",{href:`/categories/${s.url}/products`,class:"item",key:s.id,onMouseenter:i=>F(s.id)},[e("div",ue,[e("div",ve,[e("p",de,m(s.title),1)])]),v.value===s.id&&((u=s.children)!=null&&u.length)?(n(),l("div",{key:0,class:"subcategories",onMouseenter:N},[e("div",_e,[(n(!0),l(h,null,f(s.children,i=>(n(),l("a",{key:i.id,href:`/categories/${i.url}/products`,onMouseenter:pe=>L(i.id)},m(i.title),41,he))),128))]),d.value?(n(),l("div",{key:0,class:"sub-subcategories",onMouseenter:N},[(n(!0),l(h,null,f(A(d.value),i=>(n(),l("div",{key:i.id},[e("a",{href:`/catalog/${i.url}/`},m(i.title),9,me)]))),128))],32)):g("",!0)],32)):g("",!0)],40,ce)}),128))])])],32)):g("",!0)],32),a[8]||(a[8]=M('<li class="nav-item"><a class="nav-link" href="#">ПОРТФОЛИО</a></li><li class="nav-item"><a class="nav-link" href="#">НАНЕСЕНИЕ</a></li><li class="nav-item"><a class="nav-link" href="#">КОНТАКТЫ</a></li><li class="nav-item"><a class="nav-link" href="/news">НОВОСТИ</a></li><li class="nav-item"><a class="nav-link" href="#">ОПЛАТА И ДОСТАВКА</a></li><li class="nav-item nav__block__none"><a class="more_menu nav-link" href="#">Преимущества</a></li><li class="nav-item nav__block__none"><a class="more_menu nav-link" href="#">Награды</a></li><li class="nav-item nav__block__none"><a class="more_menu nav-link" href="#">Благодарности</a></li><li class="nav-item nav__block__none"><a class="more_menu nav-link" href="#">Новости</a></li><li class="nav-item nav__block__none"><a class="more_menu nav-link" href="#">Статьи</a></li><li class="nav-item nav__block__none"><a class="more_menu nav-link" href="#">Вопросы и ответы</a></li><li class="nav-item nav__block__none menu__phone"><a class="nav-link" href="#">8 (499) 394 38 41</a></li><li class="nav-item nav__block__none"><a class="nav-link menu__email" href="#">info@mvgifts.ru</a></li>',13))]),a[9]||(a[9]=e("button",{class:"btn-close d-lg-none ms-auto",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-label":"Close"},null,-1))])])])]),a[11]||(a[11]=e("div",{class:"col-xl-2"},null,-1))])])]))}};export{fe as _};
