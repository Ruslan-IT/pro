import{p as v,y as x,z as S,c as e,o,b as m,a as s,w as b,u as y,m as C,j as n,F as d,g as u,t as l,n as f,d as F,S as $}from"./app-DYBGomXx.js";import{_ as j}from"./Header-gsB0Gyh1.js";import{F as A}from"./Footer-SWroQ7aL.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"wrapper"},V={class:"main"},D={class:"row"},E={class:"col-xl-12"},T={class:"container"},z={id:"mainSlider",class:"carousel slide custom-slider","data-bs-ride":"carousel"},J={class:"carousel-inner h-100"},L={class:"d-flex justify-content-center align-items-center h-100"},R=["src","alt"],P={key:0,class:"carousel-caption"},U={key:0},W={key:1},q=["href"],G={key:0,class:"carousel-indicators slider-indicators"},H=["data-bs-slide-to","aria-label"],K={key:1,class:"slider-control slider-control-prev","data-bs-target":"#mainSlider","data-bs-slide":"prev"},M={key:2,class:"slider-control slider-control-next","data-bs-target":"#mainSlider","data-bs-slide":"next"},O={key:0,class:"container"},Q={class:"row transport"},Z=["src","alt"],X={class:"header__top__block"},Y=["href"],tt={class:"container"},st={class:"row"},et={class:"work-card"},ot={class:"work-date"},it={class:"work-img-container"},rt=["src","alt"],at={class:"work-title"},nt={class:"work-description"},lt={key:1,class:"about-section"},ct={class:"text-center mb-5"},dt={class:"container"},ut={key:0,class:"row"},_t={class:"col-12"},mt={class:"about-description"},ht={key:1,class:"about__blocks row"},gt={class:"photo-card"},pt={class:"photo-container"},vt=["src","alt"],bt={class:"photo-title"},yt={class:"photo-description"},ft={__name:"Index",props:{categories:Array,portfolio:Array,news:Array,slides:Array,promoBlocks:Array,aboutBlocks:{type:Array,default:()=>[]}},setup(a){const g=a,_=v(()=>g.aboutBlocks.find(i=>i.is_main)||{}),p=v(()=>g.aboutBlocks.filter(i=>!i.is_main).sort((i,r)=>i.order-r.order)),k=i=>i?new Date(i).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}):"",w=(i,r)=>{if(!i)return"";const t=i.replace(/<[^>]*>/g,"");return t.length<=r?t:t.substring(0,r)+"..."},B=()=>{if(!(typeof bootstrap<"u"))return new Promise((i,r)=>{const t=document.createElement("script");t.src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js",t.integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz",t.crossOrigin="anonymous",t.onload=i,t.onerror=r,document.head.appendChild(t)})};let h=null;return x(async()=>{try{if(await B(),typeof bootstrap<"u"){const i=document.getElementById("mainSlider");i&&(h=new bootstrap.Carousel(i,{interval:5e3,ride:"carousel"}))}}catch(i){console.error("Failed to load Bootstrap:",i)}}),S(()=>{h&&h.pause()}),(i,r)=>(o(),e(d,null,[m(y(C),null,{default:b(()=>r[0]||(r[0]=[s("title",null,"Главная страница",-1)])),_:1,__:[0]}),s("div",N,[m(j,{categories:a.categories},null,8,["categories"]),s("main",V,[s("div",D,[s("div",E,[s("div",T,[s("div",z,[s("div",J,[(o(!0),e(d,null,u(a.slides,(t,c)=>(o(),e("div",{key:t.id,class:f(["carousel-item","h-100",{active:c===0}])},[s("div",L,[s("img",{src:`/storage/${t.image}`,alt:t.title},null,8,R),t.title||t.subtitle?(o(),e("div",P,[t.title?(o(),e("h3",U,l(t.title),1)):n("",!0),t.subtitle?(o(),e("p",W,l(t.subtitle),1)):n("",!0),t.link?(o(),e("a",{key:2,href:t.link,class:"btn btn-primary btn__red"}," Подробнее ",8,q)):n("",!0)])):n("",!0)])],2))),128))]),a.slides.length>1?(o(),e("div",G,[(o(!0),e(d,null,u(a.slides,(t,c)=>(o(),e("button",{key:t.id,type:"button","data-bs-target":"#mainSlider","data-bs-slide-to":c,class:f(["slider-indicator",{active:c===0}]),"aria-label":`Slide ${c+1}`},null,10,H))),128))])):n("",!0),a.slides.length>1?(o(),e("div",K,r[1]||(r[1]=[s("span",{class:"slider-control-icon"},"‹",-1)]))):n("",!0),a.slides.length>1?(o(),e("div",M,r[2]||(r[2]=[s("span",{class:"slider-control-icon"},"›",-1)]))):n("",!0)])])])]),a.promoBlocks&&a.promoBlocks.length>0?(o(),e("div",O,[s("div",Q,[(o(!0),e(d,null,u(a.promoBlocks,t=>(o(),e("div",{key:t.id,class:"col-xl-4 tranImg"},[s("img",{src:`/storage/${t.image}`,alt:t.title},null,8,Z),s("div",X,[s("a",{href:t.link,class:"btn btn-primary submit-btn btn__red"},l(t.button_text||"СМОТРЕТЬ"),9,Y)])]))),128))])])):n("",!0),s("section",null,[r[3]||(r[3]=s("h2",{class:"text-center mb-5"},"Наши работы",-1)),s("div",tt,[s("div",st,[(o(!0),e(d,null,u(a.portfolio,(t,c)=>(o(),e("div",{class:"col-lg col-md-4 col-6",key:c},[s("div",et,[s("div",ot,l(k(t.published_at)),1),s("div",it,[s("img",{src:`/storage/${t.image}`,class:"work-img",alt:t.title},null,8,rt)]),s("h3",at,[m(y($),{href:`/portfolio/${t.slug}`,class:"read-more"},{default:b(()=>[F(l(t.title),1)]),_:2},1032,["href"])]),s("p",nt,l(w(t.content,150)),1)])]))),128))])])]),a.aboutBlocks&&a.aboutBlocks.length>0&&_.value.title?(o(),e("section",lt,[s("h2",ct,l(_.value.title),1),s("div",dt,[_.value.description?(o(),e("div",ut,[s("div",_t,[s("p",mt,l(_.value.description),1)])])):n("",!0),p.value.length>0?(o(),e("div",ht,[(o(!0),e(d,null,u(p.value,(t,c)=>(o(),e("div",{class:"col-md-4 col-sm-6 col-12 mb-4",key:t.id},[s("div",gt,[s("div",pt,[s("img",{src:`/storage/${t.image}`,alt:t.title,class:"news-img"},null,8,vt),r[4]||(r[4]=s("div",{class:"photo-border"},null,-1))]),s("h3",bt,l(t.title),1),s("p",yt,l(t.description),1)])]))),128))])):n("",!0)])])):n("",!0)]),m(A)])],64))}},St=I(ft,[["__scopeId","data-v-43a33289"]]);export{St as default};
