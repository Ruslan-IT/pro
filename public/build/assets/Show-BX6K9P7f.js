import{y as dt,s as v,p as r,c as n,o as c,a,z as f,j as $,F as p,g as h,t as i,d as q,e as w,n as g,A as V,v as rt}from"./app-kHoMdhCw.js";import{_ as vt}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ut={class:"wrapper"},bt={class:"header"},_t={class:"container"},mt={class:"row header__menu"},ft={class:"col-xl-8"},pt={class:"navbar navbar-expand-lg navbar-light bg-light"},ht={class:"container-fluid header__menu"},gt={class:"collapse navbar-collapse",id:"navbarNav"},kt={class:"navbar-nav"},yt={class:"wrap_c"},xt={class:"list"},$t=["href","onMouseenter"],wt={class:"table"},Ct={class:"margin"},It={style:{"text-transform":"uppercase"}},Mt={class:"subcategory-column"},St=["href","onMouseenter"],Nt=["href"],Tt={class:"main"},Vt={class:"container"},zt={class:"product-container"},Et={class:"col-md-5"},Lt=["src","data-src"],Ut={key:0,class:"row product__block"},qt=["src","onClick","onError"],At={class:"col-md-6"},jt={class:"product-title"},Dt={class:"row__order__desc"},Pt={class:"col-md-5"},Bt={class:"product-details"},Ft={class:"detail-item"},Ht={class:"detail-item"},Ot={class:"detail-item"},Wt={class:"product-price"},Rt={class:"vertical__block"},Jt={class:"vertical-thumbnails"},Kt=["src","alt","onClick"],Qt={key:0,class:"order-block"},Xt={class:"stock"},Yt=["max","onUpdate:modelValue"],Zt={class:"total-section__bock"},Gt={class:"total-section"},ta={class:"total-price"},aa={class:"tabs-container"},sa={class:"tab-buttons"},ea={id:"description",class:"tab-content"},la=["innerHTML"],ia={id:"characteristics",class:"tab-content"},oa={class:"property-item"},na={class:"property-item"},ca={class:"property-item"},da={id:"payment",class:"tab-content"},ra={class:"property-item"},va={class:"property-item"},ua={id:"delivery",class:"tab-content"},ba={class:"property-item"},_a={class:"property-item"},ma={__name:"Show",props:{product:{type:Object,required:!0},categories:Array,subcategories:Array},setup(A){dt(()=>{if(d.product.variants&&d.product.variants.length>0){const s=d.product.variants[0];O(s)}});const d=A,k=v(L(d.product)),j=v(null),m=v(null),z=v(!1),y=v(null),x=v(null),C=v(null),I=v(!1),u=v("description"),M=s=>{u.value=s},_=r(()=>({description:d.product.content||"Описание товара отсутствует",characteristics:{color:m.value||"Не указан",size:N.value.map(s=>s.size).join(", ")||"Не указан",dimensions:b.value.dimensions||"Не указаны"},payment:{methods:"Наличные, карта, безналичный расчет",installment:"До 12 месяцев"},delivery:{time:"1-3 рабочих дня",cost:"Бесплатно при заказе от 5000 Руб."}})),R=()=>{clearTimeout(C.value),z.value=!0,I.value=!0},J=()=>{C.value=setTimeout(()=>{I.value||(z.value=!1,y.value=null,x.value=null)},300)},K=s=>{y.value=s,x.value=null},Q=()=>{I.value=!0,clearTimeout(C.value)},D=()=>{I.value=!1,J()},X=s=>{x.value=s},Y=s=>{if(!y.value)return[];const t=d.categories.find(l=>l.id===y.value);if(!t||!t.children)return[];const e=t.children.find(l=>l.id===s);return(e==null?void 0:e.children)||[]},P=()=>{clearTimeout(C.value)},B=r(()=>{const s={};return d.product.variants.forEach(t=>{`${t.color}${t.size}`,s[t.color]||(s[t.color]={}),s[t.color][t.size]||(s[t.color][t.size]={...t,total:0,variants:[]}),s[t.color][t.size].total+=t.total||0,s[t.color][t.size].variants.push(t)}),s}),b=r(()=>j.value||d.product),F=r(()=>b.value.total||0),Z=r(()=>b.value.article||""),G=r(()=>b.value.sklad||"Москва"),H=r(()=>{const s=new Set,t=[];return d.product.variants.forEach(e=>{s.has(e.color)||(s.add(e.color),t.push(e))}),t});r(()=>{const s=[L(b.value)];return H.value.forEach(t=>{const e=U(t);e&&!s.includes(e)&&s.push(e)}),s});const tt=s=>{if(!(s!=null&&s.title))return"";const t=s.title.indexOf(",");let e=t>0?s.title.substring(0,t).trim():s.title;if(s.color){const l=s.color.toLowerCase();e.toLowerCase().includes(l)||(e+=`, ${s.color}`)}return e},E=r(()=>{if(!b.value)return[];const s=L(b.value),t=s.split("/"),e=t[t.length-1],l=s.replace(e,""),o=[];for(let T=1;T<=5;T++){const nt=`${T}_${e}`,ct=`${l}${nt}`;o.push(ct)}return o}),S=v([]),at=r(()=>E.value.some(s=>!S.value.includes(s))),st=r(()=>E.value.filter(s=>!S.value.includes(s)));function et(s){const t=E.value[s];S.value.includes(t)||S.value.push(t)}function O(s){j.value=it(s),k.value=U(s),m.value=s.color}const N=r(()=>!m.value||!B.value[m.value]?[]:Object.values(B.value[m.value]));function lt(s){k.value=s}function L(s){const t=s.url_img||s.photo;if(t&&t!=="1")return W(t);const e=s.sid,l=s.tovar_id||s.id_parent||s.id;return e&&l?`https://mvgifts.ru/img/tovars/${e}/${l}/${l}.jpg`:"https://via.placeholder.com/200?text=No+Image"}function U(s){const t=s.photo||s.url_img;if(t&&t!=="1")return W(t);const e=s.sid||d.product.sid,l=s.tovar_id||s.id_parent||s.id;return e&&l?`https://mvgifts.ru/img/tovars/${e}/${l}/${l}.jpg`:"https://via.placeholder.com/40?text=No+Img"}function W(s){return s?s.startsWith("http")?s:`https://mvgifts.ru${s.startsWith("/")?"":"/"}${s}`:""}function it(s){return{...s,sid:s.sid||d.product.sid,tovar_id:s.tovar_id||s.id_parent||s.id,url_img:s.photo||s.url_img||d.product.url_img}}function ot(){let s=0;return N.value&&N.value.forEach(t=>{const e=t.quantity||0;s+=e*t.price}),s.toLocaleString("ru-RU")}return(s,t)=>(c(),n("div",ut,[a("header",bt,[t[11]||(t[11]=f('<div class="row header__top__block__main" data-v-91fb226c><div class="container__header" data-v-91fb226c><div class="container__header__flex" data-v-91fb226c><div class="" data-v-91fb226c><div class="header__top d-flex" data-v-91fb226c><div class="d-block d-md-none" data-v-91fb226c><a href="tel:+74993943841" class="header__phone" data-v-91fb226c>8 (499) 394-38-41</a></div><span class="company" data-v-91fb226c>|</span><div class="header__top__block company" data-v-91fb226c><a href="" data-v-91fb226c>О компании </a></div><span data-v-91fb226c>|</span><div class="header__top__block" data-v-91fb226c><button type="submit" class="btn btn-primary submit-btn btn__red" data-v-91fb226c>ЗАКАЗАТЬ ЗВОНОК </button></div><span data-v-91fb226c>|</span><div class="header__top__block" data-v-91fb226c><div class="header__top__cart" data-v-91fb226c><div class="header__top__img" data-v-91fb226c><img src="https://web-ruslan.ru/img/cart.png" alt="" data-v-91fb226c></div><div class="header__top__info" data-v-91fb226c><p class="min__order" data-v-91fb226c> Минимальный заказ</p><p class="rub" data-v-91fb226c>15 000 Р </p></div></div></div></div></div></div></div></div>',1)),a("div",_t,[t[10]||(t[10]=f('<div class="row header__search" data-v-91fb226c><div class="col-xl-2" data-v-91fb226c><img src="https://web-ruslan.ru/img/logo.png" alt="logo" data-v-91fb226c></div><div class="col-xl-8" data-v-91fb226c><button class="navbar-toggler ds-mob" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation" data-v-91fb226c><span class="navbar-toggler-icon" data-v-91fb226c></span></button><div class="input-group" data-v-91fb226c><input type="text" class="form-control" placeholder="Поиск товаров по названию или артикулу" data-v-91fb226c><div class="input-group-append" data-v-91fb226c><button class="btn btn-secondary" type="button" data-v-91fb226c><img src="https://web-ruslan.ru/img/ser.png" alt="search" data-v-91fb226c></button></div></div></div><div class="col-xl-2 phone__mob__none" data-v-91fb226c><span data-v-91fb226c><a href="" data-v-91fb226c> 8 (499) 394 38 41</a></span></div><div class="catalogmobile__my" data-v-91fb226c><div class="nav-item catalog" data-v-91fb226c><a class="nav-link" href="#" data-v-91fb226c>КАТАЛОГ</a><span data-v-91fb226c></span></div></div></div>',1)),a("div",mt,[t[8]||(t[8]=a("div",{class:"col-xl-2"},null,-1)),a("div",ft,[a("nav",pt,[a("div",ht,[a("div",gt,[a("ul",kt,[a("li",{class:"nav-item catal catalog__desc",onMouseenter:R,onMouseleave:D},[t[4]||(t[4]=a("a",{class:"nav-link catalog__mar",href:"#"},"КАТАЛОГ",-1)),t[5]||(t[5]=a("span",null,null,-1)),z.value?(c(),n("section",{key:0,class:"catalog_drop",onMouseenter:Q,onMouseleave:D},[a("div",yt,[a("div",xt,[(c(!0),n(p,null,h(A.categories,e=>{var l;return c(),n("a",{href:`/categories/${e.url}/products`,class:"item",key:e.id,onMouseenter:o=>K(e.id)},[a("div",wt,[a("div",Ct,[a("p",It,i(e.title),1)])]),y.value===e.id&&((l=e.children)!=null&&l.length)?(c(),n("div",{key:0,class:"subcategories",onMouseenter:P},[a("div",Mt,[(c(!0),n(p,null,h(e.children,o=>(c(),n("a",{key:o.id,href:`/categories/${o.url}/products`,onMouseenter:T=>X(o.id)},i(o.title),41,St))),128))]),x.value?(c(),n("div",{key:0,class:"sub-subcategories",onMouseenter:P},[(c(!0),n(p,null,h(Y(x.value),o=>(c(),n("div",{key:o.id},[a("a",{href:`/catalog/${o.url}/`},i(o.title),9,Nt)]))),128))],32)):$("",!0)],32)):$("",!0)],40,$t)}),128))])])],32)):$("",!0)],32),t[6]||(t[6]=f('<li class="nav-item" data-v-91fb226c><a class="nav-link" href="#" data-v-91fb226c>ПОРТФОЛИО</a></li><li class="nav-item" data-v-91fb226c><a class="nav-link" href="#" data-v-91fb226c>НАНЕСЕНИЕ</a></li><li class="nav-item" data-v-91fb226c><a class="nav-link" href="#" data-v-91fb226c>КОНТАКТЫ</a></li><li class="nav-item" data-v-91fb226c><a class="nav-link" href="#" data-v-91fb226c>НОВОСТИ</a></li><li class="nav-item" data-v-91fb226c><a class="nav-link" href="#" data-v-91fb226c>ОПЛАТА И ДОСТАВКА</a></li><li class="nav-item nav__block__none" data-v-91fb226c><a class="more_menu nav-link" href="#" data-v-91fb226c>Преимущества</a></li><li class="nav-item nav__block__none" data-v-91fb226c><a class="more_menu nav-link" href="#" data-v-91fb226c>Награды</a></li><li class="nav-item nav__block__none" data-v-91fb226c><a class="more_menu nav-link" href="#" data-v-91fb226c>Благодарности</a></li><li class="nav-item nav__block__none" data-v-91fb226c><a class="more_menu nav-link" href="#" data-v-91fb226c>Новости</a></li><li class="nav-item nav__block__none" data-v-91fb226c><a class="more_menu nav-link" href="#" data-v-91fb226c>Статьи</a></li><li class="nav-item nav__block__none" data-v-91fb226c><a class="more_menu nav-link" href="#" data-v-91fb226c>Вопросы и ответы</a></li><li class="nav-item nav__block__none menu__phone" data-v-91fb226c><a class="nav-link" href="#" data-v-91fb226c>8 (499) 394 38 41</a></li><li class="nav-item nav__block__none" data-v-91fb226c><a class="nav-link menu__email" href="#" data-v-91fb226c>info@mvgifts.ru</a></li>',13))]),t[7]||(t[7]=a("button",{class:"btn-close d-lg-none ms-auto",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-label":"Close"},null,-1))])])])]),t[9]||(t[9]=a("div",{class:"col-xl-2"},null,-1))])])]),a("main",Tt,[t[28]||(t[28]=f('<section class="breadcrumbs__block" data-v-91fb226c><div class="container" data-v-91fb226c><div class="breadcrumbs-container" data-v-91fb226c><div class="row" data-v-91fb226c><div class="col-xl-2" data-v-91fb226c></div><div class="col-xl-8 crumbs" data-v-91fb226c><div class="breadcrumbs-content" data-v-91fb226c></div></div><div class="col-xl-2" data-v-91fb226c></div></div></div></div></section>',1)),a("div",Vt,[a("div",zt,[a("div",Et,[a("img",{id:"mainImage",src:k.value,"data-fancybox":"gallery","data-src":k.value,alt:"Основное фото товара",class:"main-image"},null,8,Lt),at.value?(c(),n("div",Ut,[(c(!0),n(p,null,h(st.value,(e,l)=>(c(),n("div",{class:"col-4",key:l},[a("img",{src:e,alt:"Дополнительное фото",class:g(["thumbnail",{active:k.value===e}]),onClick:o=>lt(e),onError:o=>et(l)},null,42,qt)]))),128))])):$("",!0)]),a("div",At,[a("h1",jt,i(tt(b.value)),1),a("div",Dt,[a("div",Pt,[a("div",Bt,[a("div",Ft,[t[12]||(t[12]=a("span",{class:"detail-label"},"Артикул:",-1)),q(" "+i(Z.value),1)]),a("div",Ht,[t[13]||(t[13]=a("span",{class:"detail-label"},"Склад:",-1)),q(" "+i(G.value),1)]),a("div",Ot,[t[14]||(t[14]=a("span",{class:"detail-label"},"Количество:",-1)),q(" "+i(F.value>0?F.value+" шт.":"по запросу"),1)]),t[15]||(t[15]=f('<div class="detail-item" data-v-91fb226c><span class="detail-label" data-v-91fb226c>Срок доставки:</span><a href="" data-v-91fb226c> по запросу</a></div><div class="custom-checkbox-container" id="customCheckboxContainer" data-v-91fb226c><label for="customCheckbox" class="custom-checkbox-label" data-v-91fb226c>без нанесения</label><input type="checkbox" class="custom-checkbox" id="customCheckbox" data-v-91fb226c></div>',2)),a("div",Wt,i(b.value.price)+" ₽",1)])]),a("div",Rt,[a("div",Jt,[(c(!0),n(p,null,h(H.value,(e,l)=>(c(),n("img",{key:"variant-"+l,src:U(e),alt:{variant:e},class:g(["small-thumbnail",{active:m.value===e.color}]),onClick:o=>O(e)},null,10,Kt))),128))])])]),m.value?(c(),n("div",Qt,[t[18]||(t[18]=f('<div class="grid-header" data-v-91fb226c><div class="header-item" data-v-91fb226c>Наличие</div><div class="header-item" data-v-91fb226c>Введите количество</div><div class="header-item" data-v-91fb226c>Размер</div><div class="header-item" data-v-91fb226c>Цена</div></div>',1)),(c(!0),n(p,null,h(N.value,(e,l)=>(c(),n("div",{class:"product-row",key:l},[a("div",Xt,i(e.total>0?e.total+" шт":"по запросу"),1),a("div",null,[w(a("input",{type:"number",min:"0",max:e.total,class:"quantity-input","onUpdate:modelValue":o=>e.quantity=o},null,8,Yt),[[rt,e.quantity]])]),a("div",null,i(e.size),1),a("div",null,i(e.price)+" ₽",1)]))),128)),a("div",Zt,[a("div",Gt,[a("div",null,[t[16]||(t[16]=a("div",{class:"total-text"},"Итого",-1)),a("div",ta,i(ot())+" ₽",1)])]),t[17]||(t[17]=a("div",{class:"total-section__button"},[a("button",{class:"btn btn-primary submit-btn btn__red"},"ЗАПРОСИТЬ")],-1))]),t[19]||(t[19]=a("div",{class:"note"}," *указанная сумма не включает в себя стоимость нанесения логотипа ",-1))])):$("",!0),t[27]||(t[27]=a("button",{class:"order-btn"},"Заказ принимается на сумму от 5000 Руб..",-1)),a("div",aa,[a("div",sa,[a("button",{class:g(["tab-btn",{active:u.value==="description"}]),onClick:t[0]||(t[0]=e=>M("description"))}," Описание ",2),a("button",{class:g(["tab-btn",{active:u.value==="characteristics"}]),onClick:t[1]||(t[1]=e=>M("characteristics"))}," Характеристики ",2),a("button",{class:g(["tab-btn",{active:u.value==="payment"}]),onClick:t[2]||(t[2]=e=>M("payment"))}," Оплата ",2),a("button",{class:g(["tab-btn",{active:u.value==="delivery"}]),onClick:t[3]||(t[3]=e=>M("delivery"))}," Доставка ",2)]),w(a("div",ea,[a("div",{class:"property-item",innerHTML:_.value.description},null,8,la)],512),[[V,u.value==="description"]]),w(a("div",ia,[a("div",oa,[t[20]||(t[20]=a("div",{class:"property-title"},"Цвет",-1)),a("div",null,i(_.value.characteristics.color),1)]),a("div",na,[t[21]||(t[21]=a("div",{class:"property-title"},"Размеры",-1)),a("div",null,i(_.value.characteristics.size),1)]),a("div",ca,[t[22]||(t[22]=a("div",{class:"property-title"},"Габариты",-1)),a("div",null,i(_.value.characteristics.dimensions),1)])],512),[[V,u.value==="characteristics"]]),w(a("div",da,[a("div",ra,[t[23]||(t[23]=a("div",{class:"property-title"},"Способы оплаты",-1)),a("div",null,i(_.value.payment.methods),1)]),a("div",va,[t[24]||(t[24]=a("div",{class:"property-title"},"Рассрочка",-1)),a("div",null,i(_.value.payment.installment),1)])],512),[[V,u.value==="payment"]]),w(a("div",ua,[a("div",ba,[t[25]||(t[25]=a("div",{class:"property-title"},"Сроки доставки",-1)),a("div",null,i(_.value.delivery.time),1)]),a("div",_a,[t[26]||(t[26]=a("div",{class:"property-title"},"Стоимость",-1)),a("div",null,i(_.value.delivery.cost),1)])],512),[[V,u.value==="delivery"]])])])])])])]))}},ha=vt(ma,[["__scopeId","data-v-91fb226c"]]);export{ha as default};
