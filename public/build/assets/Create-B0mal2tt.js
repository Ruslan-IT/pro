import{A as y}from"./AdminLayout-CZcA1OUy.js";import{S as _,r as f,c as o,o as i,a as r,b as h,w as x,d as O,e as a,v as p,f as c,F as u,g as m,h as v,i as k,t as n}from"./app-DYBGomXx.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";const C={name:"Create",layout:y,props:{categories:Array,params:Array},components:{Link:_},data(){return{errors:[],paramOption:{paramObj:{}},entries:{product:{categories:null},images:null,params:[]}}},methods:{storeCategory(){k.post(route("admin.products.store"),this.entries,{headers:{"Content-Type":"multipart/form-data"}}).then(d=>{this.entries={product:{categories:null},images:null,params:[]}}),this.$refs.image_input.value=null},setImages(d){this.entries.images=d.target.files},setParam(){this.entries.params.push({id:this.paramOption.paramObj.id,title:this.paramOption.paramObj.title,title_translit:this.paramOption.paramObj.title_translit,value:this.paramOption.value})}}},V={class:"mb-4"},j={class:"mb-4"},U={class:"mb-4"},L={class:"mb-4"},A={class:"mb-4"},S={class:"mb-4"},B=["value"],I={class:"mb-4 flex"},M={class:"mr-2"},N=["value"],P={class:"mr-2"},T={class:"mr-4"},D={class:"mb-4"};function F(d,t,b,q,s,l){const g=f("Link");return i(),o("div",null,[r("div",V,[h(g,{href:d.route("admin.products.index"),class:"inline-block py-2 px-3 bg-sky-600 border border-sky-700 text-white"},{default:x(()=>t[9]||(t[9]=[O("Назад ")])),_:1,__:[9]},8,["href"])]),r("div",null,[r("div",j,[a(r("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.entries.product.title=e),class:"border border-gray-200 p-2 w-1/4",placeholder:"Название"},null,512),[[p,s.entries.product.title]])]),r("div",U,[a(r("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=e=>s.entries.product.price=e),class:"border border-gray-200 p-2 w-1/4",placeholder:"Цена"},null,512),[[p,s.entries.product.price]])]),r("div",L,[a(r("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=e=>s.entries.product.sklad=e),class:"border border-gray-200 p-2 w-1/4",placeholder:"Кол-во на складе"},null,512),[[p,s.entries.product.sklad]])]),r("div",A,[r("input",{ref:"image_input",type:"file",onChange:t[3]||(t[3]=(...e)=>l.setImages&&l.setImages(...e)),multiple:"",class:"border border-gray-200 p-2 w-1/4"},null,544)]),r("div",S,[a(r("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>s.entries.product.id_parent=e),class:"border border-gray-200 p-2 w-1/4"},[t[10]||(t[10]=r("option",{value:null,disabled:"",selected:""},"Выберите категорию",-1)),(i(!0),o(u,null,m(b.categories,e=>(i(),o("option",{value:e.id},n(e.title),9,B))),256))],512),[[c,s.entries.product.id_parent]])]),r("div",I,[r("div",M,[a(r("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>s.paramOption.paramObj=e),class:"border border-gray-200 p-2 pr-8"},[t[11]||(t[11]=r("option",{value:{},disabled:"",selected:""},"Выберите характеристики",-1)),(i(!0),o(u,null,m(b.params,e=>(i(),o("option",{value:e},n(e.title),9,N))),256))],512),[[c,s.paramOption.paramObj]])]),r("div",P,[a(r("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>s.paramOption.value=e),type:"text",class:"border border-gray-200 p-2",placeholder:"Значение"},null,512),[[p,s.paramOption.value]])]),r("div",null,[r("a",{onClick:t[7]||(t[7]=v((...e)=>l.setParam&&l.setParam(...e),["prevent"])),href:"#",class:"inline-block bg-white border-gray-200 border px-3 py-2"},"+")])]),r("div",T,[(i(!0),o(u,null,m(s.entries.params,e=>(i(),o("div",null,n(e.title)+" - "+n(e.value)+" - "+n(e.title_translit),1))),256))]),r("div",D,[r("a",{href:"#",onClick:t[8]||(t[8]=v((...e)=>l.storeCategory&&l.storeCategory(...e),["prevent"])),class:"inline-block py-2 px-3 bg-indigo-600 border border-indigo-700 text-white"},"Создать")])])])}const J=w(C,[["render",F]]);export{J as default};
